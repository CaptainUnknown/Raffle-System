import { useState } from "react";

import styles from "./styles.module.scss";

import { useAccount } from "wagmi";
import { useLocation, useNavigate } from "react-router-dom";
import { contractOwner } from "../../Constant/constants";
import { Link } from "react-router-dom";
import whoop from "../../assets/whoopdoop.png";
import { ReactComponent as Alphi } from "../../assets/alphi.svg";

export default function StakingHeader() {
  const [open, setOpen] = useState(false);
  const { address } = useAccount();
  const navigate = useNavigate();
  const location = useLocation();

  return (
    <>
      <nav className={styles.navBarContainerActive}>
        <div className={styles.navItemContainer}>
          <Link className={styles.navLogo} to="/">
            <img src={whoop} alt="whoopsie doopsies logo" />
          </Link>
          <Link className={styles.navItem} to="/">
            HOME
          </Link>
          <Link
            to="/staking/"
            className={
              location.pathname === "/staking/"
                ? styles.activeNavItem
                : styles.navItem
            }
          >
            BATTLE
          </Link>
          <Link
            to="/staking/user"
            className={
              location.pathname === "/staking/user"
                ? styles.activeNavItem
                : styles.navItem
            }
          >
            STAKE
          </Link>
          <Link
            to="/staking/logs"
            className={
              location.pathname === "/staking/logs"
                ? styles.activeNavItem
                : styles.navItem
            }
          >
            LOGS
          </Link>
          <Link
            to="/staking/history"
            className={
              location.pathname === "/staking/history"
                ? styles.activeNavItem
                : styles.navItem
            }
          >
            HISTORY
          </Link>

          {address && address === contractOwner && (
            <Link
              to="/owner"
              className={
                location.pathname === "/owner"
                  ? styles.activeNavItem
                  : styles.navItem
              }
            >
              OWNER
            </Link>
          )}
        </div>
        {address && (
          <button
            onClick={() => navigate("/staking/user")}
            className={styles.userBtn}
          >
            {address.slice(0, 6) + "..." + address.slice(-6)}
          </button>
        )}
      </nav>

      <>
        <nav className={styles.mobileNavContainerActive}>
          <div className={styles.navItemContainer}>
            <Link
              onClick={() => setOpen(false)}
              className={styles.navLogo}
              to="/"
            >
              <img src={whoop} alt="whoopsie doopsies logo" />
            </Link>
          </div>
          <div className={styles.actionContainer}>
            <button
              onClick={() => setOpen(!open)}
              className={styles.mobileNavButton}
            >
              <svg
                clipRule="evenodd"
                fillRule="evenodd"
                strokeLinejoin="round"
                strokeMiterlimit="2"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="m22 16.75c0-.414-.336-.75-.75-.75h-18.5c-.414 0-.75.336-.75.75s.336.75.75.75h18.5c.414 0 .75-.336.75-.75zm0-5c0-.414-.336-.75-.75-.75h-18.5c-.414 0-.75.336-.75.75s.336.75.75.75h18.5c.414 0 .75-.336.75-.75zm0-5c0-.414-.336-.75-.75-.75h-18.5c-.414 0-.75.336-.75.75s.336.75.75.75h18.5c.414 0 .75-.336.75-.75z"
                  fillRule="nonzero"
                />
              </svg>
            </button>
          </div>
        </nav>
        {open && (
          <>
            <div
              onClick={() => setOpen(!open)}
              className={styles.sideBarBg}
            ></div>
            <div className={styles.sideBar}>
              <div className={styles.mobileLinks}>
                <button onClick={() => setOpen(!open)} className={styles.close}>
                  <svg
                    clipRule="evenodd"
                    fillRule="evenodd"
                    strokeLinejoin="round"
                    strokeMiterlimit="2"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path d="m12 10.93 5.719-5.72c.146-.146.339-.219.531-.219.404 0 .75.324.75.749 0 .193-.073.385-.219.532l-5.72 5.719 5.719 5.719c.147.147.22.339.22.531 0 .427-.349.75-.75.75-.192 0-.385-.073-.531-.219l-5.719-5.719-5.719 5.719c-.146.146-.339.219-.531.219-.401 0-.75-.323-.75-.75 0-.192.073-.384.22-.531l5.719-5.719-5.72-5.719c-.146-.147-.219-.339-.219-.532 0-.425.346-.749.75-.749.192 0 .385.073.531.219z" />
                  </svg>
                </button>

                <Link className={styles.navLogo} to="/">
                  <img src={whoop} alt="whoopsie doopsies logo" />
                </Link>
                <Link className={styles.navItem} to="/">
                  HOME
                </Link>
                <Link to="/staking/" className={styles.navItem}>
                  BATTLE
                </Link>
                <Link to="/staking/user" className={styles.navItem}>
                  STAKE
                </Link>
                <Link to="/staking/logs" className={styles.navItem}>
                  LOGS
                </Link>
                <Link to="/staking/history" className={styles.navItem}>
                  HISTORY
                </Link>

                {address && address === contractOwner && (
                  <Link to="/owner" className={styles.navItem}>
                    OWNER
                  </Link>
                )}
                {address && (
                  <button
                    onClick={() => navigate("/staking/user")}
                    className={styles.userBtn}
                  >
                    {address.slice(0, 6) + "..." + address.slice(-6)}
                  </button>
                )}
              </div>
              <div className={styles.socialLinks}>
                <a
                  className={styles.alphi}
                  href="https://alphi.xyz/collections/whoopsiesdoopsies"
                >
                  <Alphi />
                </a>
                <a
                  href="https://opensea.io/collection/whoopsiesdoopsies"
                  target="_blank"
                  rel="noopener noreferrer"
                  className={styles.socialIcon}
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 90 90"
                    version="1.1"
                    id="svg20"
                  >
                    <defs id="defs24" />
                    <path d="M 5.3807274,51.36189 5.6946917,50.816135 24.620335,18.058313 c 0.276457,-0.479749 0.926858,-0.430022 1.13606,0.09087 3.161791,7.840196 5.889983,17.590627 4.611814,23.660832 -0.545637,2.497486 -2.040444,5.880059 -3.722303,9.006121 -0.216799,0.454886 -0.455912,0.901541 -0.710056,1.331563 -0.119637,0.198376 -0.321402,0.314287 -0.538202,0.314287 H 5.9338021 c -0.5231663,0 -0.8295316,-0.628575 -0.5530747,-1.100096 z" />
                    <path d="m 89.738663,57.44891 v 5.185298 c 0,0.297651 -0.164419,0.562391 -0.403529,0.678126 -1.46506,0.69476 -6.480566,3.241974 -8.565955,6.450677 -5.321872,8.195627 -9.388049,19.914424 -18.477171,19.914424 H 24.373626 c -13.439352,0 -24.32980682,-12.090862 -24.32980682,-27.010133 v -0.479749 c 0,-0.396931 0.29149216,-0.719447 0.65040081,-0.719447 H 21.832164 c 0.418566,0 0.725093,0.430022 0.687747,0.884907 -0.149546,1.521711 0.104606,3.076513 0.75484,4.490719 1.255857,2.82 3.856976,4.581587 6.667457,4.581587 H 40.406499 V 62.386105 H 30.061682 c -0.530601,0 -0.844566,-0.678123 -0.538039,-1.157872 0.112038,-0.190147 0.23911,-0.388701 0.37362,-0.61194 0.97924,-1.538167 2.376882,-3.928328 3.767249,-6.649232 0.949168,-1.835819 1.868588,-3.795959 2.608555,-5.764146 0.149546,-0.355609 0.269182,-0.719445 0.388656,-1.075233 0.201926,-0.628396 0.411128,-1.215651 0.560673,-1.802726 0.149384,-0.496207 0.26902,-1.017277 0.388656,-1.505255 0.35131,-1.670535 0.500857,-3.440349 0.500857,-5.276347 0,-0.719442 -0.02991,-1.471982 -0.08974,-2.191606 -0.02991,-0.785629 -0.119636,-1.571259 -0.209364,-2.356888 -0.05982,-0.694761 -0.171856,-1.381112 -0.291492,-2.100558 -0.149545,-1.050367 -0.358747,-2.09233 -0.598019,-3.142698 l -0.08213,-0.396928 C 36.661714,27.635231 36.51233,26.948699 36.302966,26.229255 35.712546,23.971462 35.032236,21.771629 34.314742,19.712393 34.05316,18.89367 33.75407,18.108041 33.455141,17.32241 33.014105,16.139672 32.56563,15.064621 32.154663,14.047343 31.9453,13.584231 31.765845,13.162438 31.586552,12.732416 31.384788,12.244439 31.175425,11.756639 30.966223,11.293347 30.816676,10.937738 30.644659,10.606994 30.525185,10.276249 L 29.247017,7.6628515 c -0.179454,-0.3556089 0.119636,-0.777402 0.470784,-0.669896 l 7.997845,2.3983889 h 0.02246 c 0.01488,0 0.02247,0.00822 0.02991,0.00822 l 1.05393,0.3225146 1.158531,0.363838 0.426003,0.132368 V 4.9585796 c 0,-2.5389859 1.838841,-4.59822264 4.111122,-4.59822264 1.136058,0 2.167516,0.51266362 2.907482,1.34802014 0.739967,0.8353575 1.203478,1.9765947 1.203478,3.2502025 v 7.8069274 l 0.852003,0.264558 c 0.06741,0.02487 0.134672,0.05795 0.194489,0.107498 0.209202,0.173689 0.50813,0.430198 0.889349,0.744308 0.299092,0.26474 0.620493,0.587254 1.00915,0.917999 0.769875,0.686533 1.689133,1.571439 2.698281,2.588535 0.26902,0.256511 0.530765,0.521071 0.769875,0.78581 1.300641,1.339613 2.7581,2.911051 4.148468,4.647771 0.388656,0.487798 0.769876,0.984006 1.158531,1.505074 0.388657,0.529299 0.799784,1.050369 1.158532,1.571439 0.470946,0.694582 0.979078,1.414027 1.420115,2.166743 0.209364,0.355608 0.448474,0.719444 0.6504,1.075053 0.567949,0.95109 1.068805,1.935275 1.547188,2.919281 0.201764,0.454885 0.411128,0.951089 0.590421,1.439067 0.530764,1.314929 0.94933,2.65472 1.21835,3.994512 0.08229,0.289424 0.142107,0.60371 0.172016,0.884907 v 0.06602 c 0.08957,0.397108 0.119476,0.818901 0.149385,1.248921 0.119636,1.372708 0.05982,2.745592 -0.209202,4.126703 -0.112199,0.587255 -0.261583,1.141238 -0.441038,1.728493 -0.179455,0.562391 -0.358747,1.149466 -0.59042,1.703629 -0.448475,1.149466 -0.979239,2.29911 -1.607168,3.374164 -0.201765,0.396929 -0.440875,0.818722 -0.680147,1.215651 -0.261584,0.421795 -0.530604,0.818901 -0.769876,1.207602 -0.328839,0.496206 -0.680148,1.017096 -1.038896,1.48021 -0.321401,0.487979 -0.6504,0.975955 -1.009148,1.405977 -0.500693,0.653261 -0.979076,1.273607 -1.479932,1.869091 -0.298929,0.388698 -0.620331,0.785628 -0.94933,1.141238 -0.321402,0.396929 -0.65024,0.752536 -0.949168,1.08328 -0.500855,0.554163 -0.919421,0.984184 -1.270731,1.339792 l -0.822256,0.835359 c -0.119475,0.115741 -0.276457,0.181917 -0.440876,0.181917 h -6.368365 v 9.039213 h 8.012717 c 1.793896,0 3.498066,-0.702988 4.873398,-1.993052 0.470946,-0.454885 2.526426,-2.423252 4.955688,-5.39208 0.08213,-0.09927 0.186891,-0.173692 0.306366,-0.206783 l 22.132218,-7.079253 c 0.411127,-0.13237 0.829693,0.215011 0.829693,0.69476 z" />
                  </svg>
                </a>
                <a
                  href="https://twitter.com/WDoopsies"
                  className={styles.socialIcon}
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                    <path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" />
                  </svg>
                </a>
                <a
                  href="https://discord.com/invite/yx5tG8h9TD"
                  className={styles.socialIcon}
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                    <path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z" />
                  </svg>
                </a>
                <a
                  href="https://www.instagram.com/wdoopsies/"
                  className={styles.socialIcon}
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                    <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z" />
                  </svg>
                </a>
              </div>
            </div>
          </>
        )}
      </>
    </>
  );
}
